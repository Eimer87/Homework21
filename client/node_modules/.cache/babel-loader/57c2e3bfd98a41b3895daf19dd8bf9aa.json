{"ast":null,"code":"import _defineProperty from \"/Users/eimeradames/Documents/repos/Homework21/Homework21/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/eimeradames/Documents/repos/Homework21/Homework21/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/eimeradames/Documents/repos/Homework21/Homework21/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/eimeradames/Documents/repos/Homework21/Homework21/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/eimeradames/Documents/repos/Homework21/Homework21/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/eimeradames/Documents/repos/Homework21/Homework21/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/eimeradames/Documents/repos/Homework21/Homework21/client/src/pages/Books.js\";\nimport React, { Component } from \"react\";\nimport API from \"../utils/API\";\nimport Card from \"../components/Card\";\nimport SearchForm from \"../components/SearchForm\";\nimport SearchResults from \"../components/SearchResults\";\nimport JumboTron from \"../components/JumboTron\";\n\nvar Books = /*#__PURE__*/function (_Component) {\n  _inherits(Books, _Component);\n\n  function Books() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Books);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Books)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      result: {},\n      search: \"\",\n      results: [],\n      image: \"\"\n    };\n\n    _this.searchBooks = function (query) {\n      API.search(query).then(function (res) {\n        //sets the array of results to state\n        _this.setState({\n          results: res.data.items\n        }); //sets the first result object to state\n\n\n        _this.setState({\n          result: res.data.items[0].volumeInfo\n        });\n\n        _this.setState({\n          image: res.data.items[0].volumeInfo.imageLinks.thumbnail\n        });\n\n        _this.setState({\n          search: \"\"\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.handleInputChange = function (event) {\n      var value = event.target.value;\n      var name = event.target.name;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleFormSubmit = function (event) {\n      event.preventDefault();\n\n      _this.searchBooks(_this.state.search);\n    };\n\n    _this.handleBookSave = function (book) {\n      API.saveBook({\n        title: book.volumeInfo.title,\n        authors: book.volumeInfo.authors.join(\", \"),\n        description: book.volumeInfo.description,\n        image: book.volumeInfo.imageLinks.smallThumbnail,\n        link: book.volumeInfo.infoLink\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Books, [{\n    key: \"componentDidMount\",\n    //Sets the default search upon page load\n    value: function componentDidMount() {\n      this.searchBooks(\"Mona Lisa Overdrive\");\n    } //a function to run a search of the API based on customer input\n\n  }, {\n    key: \"render\",\n    //\n    value: function render() {\n      var searchResults = this.state.results;\n      var jumboImage = this.state.image;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        heading: \"Search for a Book\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(SearchForm, {\n        value: this.state.search,\n        handleInputChange: this.handleInputChange,\n        handleFormSubmit: this.handleFormSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(JumboTron, {\n        heading: this.state.result.title,\n        jumboImage: jumboImage,\n        author: this.state.result.authors,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(SearchResults, {\n        searchResults: searchResults,\n        handleBookSave: this.handleBookSave,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return Books;\n}(Component);\n\nexport default Books;","map":{"version":3,"sources":["/Users/eimeradames/Documents/repos/Homework21/Homework21/client/src/pages/Books.js"],"names":["React","Component","API","Card","SearchForm","SearchResults","JumboTron","Books","state","result","search","results","image","searchBooks","query","then","res","setState","data","items","volumeInfo","imageLinks","thumbnail","catch","err","console","log","handleInputChange","event","value","target","name","handleFormSubmit","preventDefault","handleBookSave","book","saveBook","title","authors","join","description","smallThumbnail","link","infoLink","searchResults","jumboImage"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport API from \"../utils/API\";\nimport Card from \"../components/Card\";\nimport SearchForm from \"../components/SearchForm\";\nimport SearchResults from \"../components/SearchResults\";\nimport JumboTron from \"../components/JumboTron\";\n\nclass Books extends Component {\n  state = {\n    result: {},\n    search: \"\",\n    results: [],\n    image: \"\"\n  };\n\n  //Sets the default search upon page load\n  componentDidMount() {\n    this.searchBooks(\"Mona Lisa Overdrive\");\n  }\n\n  //a function to run a search of the API based on customer input\n  searchBooks = (query) => {\n    API.search(query)\n      .then((res) => {\n        //sets the array of results to state\n        this.setState({ results: res.data.items });\n        //sets the first result object to state\n        this.setState({ result: res.data.items[0].volumeInfo });\n        \n        this.setState({ image: res.data.items[0].volumeInfo.imageLinks.thumbnail})\n        this.setState({search: \"\"})\n      }).catch((err) => console.log(err));\n  };\n\n  //\n  handleInputChange = (event) => {\n    const value = event.target.value;\n    const name = event.target.name;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    this.searchBooks(this.state.search);\n  };\n\n  handleBookSave = (book) => {\n    \n    API.saveBook({\n      title: book.volumeInfo.title,\n      authors: book.volumeInfo.authors.join(\", \"),\n      description: book.volumeInfo.description,\n      image: book.volumeInfo.imageLinks.smallThumbnail,\n      link: book.volumeInfo.infoLink,\n    }).catch((err) => console.log(err));\n  };\n  //\n\n  render() {\n    \n    const searchResults = this.state.results;\n    \n    const jumboImage = this.state.image;\n    \n    return (\n\n      <div className=\"container\">\n        <Card heading=\"Search for a Book\">\n          <SearchForm\n            value={this.state.search}\n            handleInputChange={this.handleInputChange}\n            handleFormSubmit={this.handleFormSubmit}\n          />\n        </Card>\n        <JumboTron heading={this.state.result.title} jumboImage={jumboImage} author={this.state.result.authors}></JumboTron>\n        <SearchResults searchResults={searchResults} handleBookSave={this.handleBookSave}/>\n      </div>\n    );\n  }\n}\n\nexport default Books;"]},"metadata":{},"sourceType":"module"}